<!DOCTYPE html><!--if lt IE 7<html class="ie ie6" lang="en">--><!--if IE 7<html class="ie ie7" lang="en">--><!--if IE 8<html class="ie ie8" lang="en">--><!--if (gte IE 9)|!(IE)<!--><html lang="en"> <!--
--><html><head><meta charset="utf8"><title> &middot; SAFETAG</title><meta name="description" content=""><meta name="author" content=""><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><link href="/safetag/@safetag/toolkit/filter.js/assets/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css"><link href="/safetag/@safetag/toolkit/filter.js/assets/css/jquery-ui-1.10.2.custom.min.css" media="screen" rel="stylesheet" type="text/css"><link href="/safetag/@safetag/toolkit/filter.js/assets/css/stream.css" media="screen" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/safetag/@safetag/toolkit/css/skeleton.css"><link rel="stylesheet" href="/safetag/@safetag/toolkit/css/selection.css"><link rel="stylesheet" href="/safetag/@safetag/toolkit/css/site.css"><script src="/safetag/@safetag/toolkit/filter.js/assets/js/jquery-1.11.3.min.js" type="text/javascript"></script><script src="/safetag/@safetag/toolkit/filter.js/assets/js/jquery-ui-1.10.2.custom.min.js" type="text/javascript"></script><script src="/safetag/@safetag/toolkit/filter.js/assets/js/jquery-ui-1.10.2.custom.min.js" type="text/javascript"></script><script src="/safetag/@safetag/toolkit/js/js-yaml.min.js"></script><script src="/safetag/@safetag/toolkit/js/sortable.min.js"></script><script src="/safetag/@safetag/toolkit/js/lodash.min.js"></script><script src="/safetag/@safetag/toolkit/js/filter.js"></script><script src="/safetag/@safetag/toolkit/js/anchor.min.js"></script><script src="/safetag/@safetag/toolkit/js/site.js"></script><link rel="shortcut icon" href="/safetag/@safetag/toolkit/images/favicon.ico"><link rel="apple-touch-icon" href="/safetag/@safetag/toolkit/images/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="72x72" href="/safetag/@safetag/toolkit/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="114x114" href="/safetag/@safetag/toolkit/images/apple-touch-icon-114x114.png"><link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lora:400,300,600" rel="stylesheet" type="text/css"><link rel="alternate" type="application/rss+xml" title="RSS" href="/safetag/@safetag/toolkit/atom.xml"></head><div class="navbar-spacer"></div><nav class="navbar navbar-fixed-top"><div class="container"><ul class="navbar-list"><li class="navbar-item"><a class="navbar-link" href="/safetag/@safetag/toolkit/">Home</a></li><li class="navbar-item"><a class="navbar-link" href="#" data-popover="#codeNavAbout">Methods</a><div class="popover" id="codeNavAbout"><ul class="popover-list"><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/preparation.guide.html">Preparation</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/context_research.guide.html">Context Research</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/capacity_assessment.guide.html">Capacity Assessment</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/reconnaissance.guide.html">Reconnaissance</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/network_discovery.guide.html">Network Discovery</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/network_access.guide.html">Network Access</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/network_mapping.guide.html">Network Mapping</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/user_device_assessment.guide.html">User Device Assessment</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/vulnerability_scanning.guide.html">Vulnerability Scanning and Assessment</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/data_assessment.guide.html">Data Asssessment</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/physical_assessment.guide.html">Physical Assessment</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/risk_modeling.guide.html">Process Mapping and Risk Modeling</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/threat_assessment.guide.html">Threat Assessment</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/responsive_support.guide.html">Responsive Support</a></li><li class="popover-item"><a class="popover-link" href="/safetag/@safetag/toolkit/methods/follow_up.guide.html">Follow Up</a></li></ul></div></li><li class="navbar-item u-pull-right hidden" id="cd-cart-trigger"><a class="navbar-link cd-img-replace cd-cart" href="#0">Plan<i class="glyphicon glyphicon-list-alt"><span>0</span></i></a></li></ul></div></nav><body class="has-docked-nav" data-baseurl="/safetag/@safetag/toolkit"><div class="container"><div class="docs-section"><div class="space"> </div><div class="boxtext">
:<a href="../../activities/manual_recon/index.md"></a>
</div>
<div class="boxtext">
:<a href="../../activities/automated_recon/index.md"></a>
</div>
<div class="boxtext">
<!-- Following snippet transcluded from activities/mx-record-search/index.md with resolveMetalsmith.url(../../activities/mx-record-search/index.md) {"id":"mx-record-search","name":"Mail Exchange Record Search","description":"MX, or Mail Exchange, records are required to be public for any domain you wish to receive email through. These records...","duration":2,"template":{"minimum-viable":[{"walk-around":"small-office"},{"interview":"3-interviewees"}]},"framework":["Reconnaissance"]} -->
<h1 id="mail-exchange-record-search">Mail Exchange Record Search</h1>
<h2 id="summary">Summary</h2>
<p>MX, or Mail Exchange, records are required to be public for any domain you wish to receive email through. These records can still reveal sensitive information about your hosting set-up.</p>
<p>MX Records can reveal vulnerable mail servers or information about other services hosted internally.</p>
<h2 id="walkthrough">Walkthrough</h2>
<p>MX Record research reveals self-hosted email server at SampleOrg’s offices:</p>
<p>mail.sample.org has address 256.0.0.3</p>
<p>Determine the authoritative name server(s) for the organization’s</p>
<p>primary domain:</p>
<pre><code>root@bt:~# host -t mx sample.org
sample.org mail is handled by 21 mail.sample.org</code></pre>
<p>Determine the IP address of the mail server:</p>
<pre><code>root@bt:~# host mail.sample.org
mail.sample.org has address 256.0.0.3</code></pre>
<h2 id="recommendation">Recommendation</h2>
<p>No fix needed</p>
<p>Unless other assessments reveals specific vulnerabilities in e-mail services used, there is no action to take. Unless you have sufficient in-house expertise, it is often recommended to not host email servers. While self-hosted email provides more control and potentially security, managing the security of the server is a complex job. Other mail services, such as MailControl or Postini, also can provide some level of protection by being a first-pass check for spam and viruses, and (slightly) reducing the visibility of your organizational mail server.</p>
<!-- End of transcluded snippet from activities/mx-record-search/index.md -->
</div>
<div class="boxtext">
<!-- Following snippet transcluded from activities/dns-zone-transfer/index.md with resolveMetalsmith.url(../../activities/dns-zone-transfer/index.md) {"id":"dns-zone-transfer","name":"Anonymous DNS Zone Transfer","description":"Anonymous individuals online can request the full list of the hostnames on the organizations domain. Responding to zone...","duration":2,"template":{"minimum-viable":[{"walk-around":"small-office"},{"interview":"3-interviewees"}]},"framework":["Reconnaissance"]} -->
<h1 id="anonymous-dns-zone-transfer">Anonymous DNS Zone Transfer</h1>
<h2 id="summary-1">Summary</h2>
<p>Anonymous individuals online can request the full list of the hostnames on the organizations domain. Responding to zone requests from anyone on the Internet is comparable to providing an inventory of office locations, pending projects and service providers to anyone who asks. As such, it is not inherently dangerous, but it does require that the organization not rely on the assumption that unpublicized URLs are in fact secret.</p>
<p>An overly permissive domain name service (DNS) provider allows an attacker to enumerate online services that the organization might think are “hidden” because they have not been (intentionally) published. A zone transfer returns all of the hostnames at a particular domain, or “zone.” So, a request for sample.org may return www.sample.org, webmail.sample.org and ftp.sample.org, along with other less obviously guessable targets, such as wordpress-testing.sample.org.</p>
<p>While any user should be able to use a name server to look up a hostname and convert it to the corresponding IP address, most well-administered name servers allow full “zone transfer” requests only from a specific list of authorized locations (often themselves subsidiary name servers).</p>
<h2 id="walkthrough-1">Walkthrough</h2>
<p>Determine the authoritative name server(s) for the organization’s primary domain:</p>
<pre><code>$ host -t ns sample.org
sample.org name server ns1.something.net.
sample.org name server ns2.something.net.</code></pre>
<p>Attempt a zone transfer on that domain, using that name server:</p>
<pre><code>$ host -l sample.org ns1.something.net
Using domain server:
Name: ns1.something.net
Address: 256.0.0.1#53
Aliases: 

www.sample.org has address 256.0.0.2
mail.sample.org has address 256.0.0.3
webmail.sample.org has address 256.0.0.4
ftp.sample.org has address 256.0.0.5
foo.sample.org has address 256.0.0.6
bar.sample.org has address 256.0.0.7</code></pre>
<h2 id="recommendation-1">Recommendation</h2>
<p><strong>Eliminate or limit zone transfer permissions</strong></p>
<p>The DNS provider for sample.org allows anonymous DNS zone transfers, revealing subdomain information</p>
<p>An anonymous zone transfer request revealed the following subdomains:</p>
<pre><code>www.sample.org has address 256.0.0.2
mail.sample.org has address 256.0.0.3
webmail.sample.org has address 256.0.0.4
ftp.sample.org has address 256.0.0.5
foo.sample.org has address 256.0.0.6</code></pre>
<p>In most cases, the DNS Zone Transfer policies will be set by your domain name provider; and most providers automatically limit anonymous zone transfers. If yours does not, you will need to work with their support team to prevent this, or switch to a different DNS provider.</p>
<p>If your organization maintains its own DNS servers, the administrator of those servers should check the zone transfer policies to prevent anonymous transfers.</p>
<!-- End of transcluded snippet from activities/dns-zone-transfer/index.md -->
</div>
</div><div class="browse-section"><h1>Browse<span id="total_results"> </span></h1><div class="sidebar col-md-3"><div><label class="sr-only" for="searchbox">Search</label><input class="form-control" id="searchbox" type="text" placeholder="Search …"><span class="glyphicon glyphicon-search search-icon"></span></div><br><div class="well"><fieldset id="framework_criteria"><legend>Framework categories</legend></fieldset></div><div class="well"><fieldset id="activity_criteria"><legend>Activity</legend></fieldset></div><div class="well"><fieldset id="context_criteria"><legend>Context</legend></fieldset></div><div class="well"><fieldset id="tool_criteria"><legend>Tool needed</legend></fieldset></div></div><div class="col-md-9"><div class="movies content row" id="results"> </div></div></div><script id="result-template" type="text/html"><% var metadata = Object.assign({}, arguments[0]); %>
<div class="col-md-4 movie" data-activity='<%= JSON.stringify(arguments[0]) %>'>
  <div class="thumbnail">
    <button class="label label-success rating add-to-cart hidden">
      <span>Add 
        <i class="glyphicon glyphicon-plus"></i>
      </span>
      <svg x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32">
      	<path stroke-dasharray="19.79 19.79" stroke-dashoffset="19.79" fill="none" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square" stroke-miterlimit="10" d="M9,17l3.9,3.9c0.1,0.1,0.2,0.1,0.3,0L23,11"/>
      </svg>
    </button>
    <div class="caption">
      <a href="<%= baseurl %>/activities/<%= id %>"><h4><%= name %></h4></a>
      <div class="detail">
        <%= description %>
        <span class="runtime">
          <i class="glyphicon glyphicon-time"></i>
          <!-- // Calculate time interval from variations and defaults to explicit duration. -->
          <!-- // Task based calculation. Object.keys(tasks).reduce(function(sum, task) { var varDurations = Object.keys(tasks[task].variations || {}).map(function(variation) { return tasks[task].variations[variation].duration }); return [(varDurations.length !== 0 ? Math.min(...varDurations) : tasks[task].duration ) < sum[0] ? (varDurations.length !== 0 ? Math.min(...varDurations) : tasks[task].duration ) : sum[0], (varDurations.length !== 0 ? Math.max(...varDurations) : tasks[task].duration ) > sum[1] ? (varDurations.length !== 0 ? Math.max(...varDurations) : tasks[task].duration ) + sum[1] : sum[1]] },[9999,0]).join(' ~ ') || duration || "?" -->
          <%= ((arguments[0].variations && variations.length !== 0) ? variations.reduce(function(sum, variation) { return [ variation.duration < sum[0] ? variation.duration : sum[0], variation.duration > sum[1] ? variation.duration + sum[1] : sum[1]] }, [9999,0]).join(' ~ ') : duration) || "?" %> hours.
        </span>
      </div>
      <div class="outline">
        <!-- // Ignore non relevant keys and print metadata key value pairs -->
        <span><%= Object.keys(metadata).filter(function(key) {return !["id", "name", "baseurl", "variations", "_fid", "path", "content_type", "description", "duration"].includes(key) }).map(function(key) { return '<strong>' + key + '</strong><br>' + metadata[key] }).join('<br>') %></span>
      </div>
    </div>
  </div>
</div>
</script><script src="/safetag/@safetag/toolkit/js/browse.js"></script></div></body><div class="section categories"><div class="container"><div class="row"><div class="two columns">&nbsp;</div><div class="eight column category"><h4>Developed with ❤ by</h4><a href="https://iilab.org"><img class="u-max-full-width" src="/safetag/@safetag/toolkit/images/iilab_white.svg"></a><h5>Information Innovation Lab</h5><p>Applied research and development of public interest technology.</p></div><div class="two columns">&nbsp;</div></div></div></div><script>$( document ).ready(function() {
  anchors.options.placement = 'left';
  anchors.add('h1,h2,h3');
})
</script><script src="http://localhost:35730/livereload.js"></script></html>